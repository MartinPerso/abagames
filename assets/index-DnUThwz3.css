.home-page{display:flex;flex-direction:column;gap:16px;min-height:calc(100vh - 48px);min-height:calc(100dvh - 48px);overflow-x:hidden}.home-header{position:relative;display:flex;align-items:center;justify-content:center;min-height:56px;padding:6px 10px;border-radius:18px;border:1px solid rgba(31,79,181,.1);background:#ffffffc7;box-shadow:0 8px 20px #12263a14;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.home-header h1{margin:0;width:100%;text-align:center;font-size:clamp(1.7rem,4.6vw,2.3rem)}.settings-link{position:absolute;top:50%;right:6px;transform:translateY(-50%);display:inline-flex;align-items:center;justify-content:center;min-height:52px;min-width:52px;border-radius:14px;border:1px solid rgba(47,114,247,.18);font-size:1.5rem;text-decoration:none;color:#2f72f7;background:linear-gradient(180deg,#edf3ff,#dfeaff);box-shadow:0 6px 14px #2f72f738}.game-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:14px}.game-card{display:grid;gap:10px;border-radius:24px;padding:16px;border:1px solid rgba(18,38,58,.08);box-shadow:0 12px 26px #12263a1f}.game-card-number{background:#e5efff}.game-card-quantity{background:#dff7f6}.game-card-letter{background:#ffe8ef}.game-title{margin:0;text-align:left;font-size:clamp(1.2rem,3.6vw,1.55rem)}.game-pictogram{margin:0;font-family:Avenir Next Rounded,Arial Rounded MT Bold,Avenir Next,Inter,sans-serif;font-weight:900;letter-spacing:.08em;font-size:clamp(1.2rem,3.2vw,1.8rem);color:#1f4fb5}.game-card-quantity .game-pictogram{color:#0f6f72}.game-card-letter .game-pictogram{color:#be1e4a}.game-card-head{display:flex;align-items:center;justify-content:space-between;gap:10px}.game-card-body{display:flex;align-items:center;justify-content:space-between;gap:14px}.home-illustration{width:clamp(105px,11vw,140px);height:clamp(105px,11vw,140px);object-fit:contain}.primary-button{display:inline-flex;align-items:center;justify-content:center;min-height:74px;min-width:74px;flex-shrink:0;padding:10px;border-radius:50%;text-decoration:none;font-size:2.3rem;font-weight:900;color:#fff;background:#2f72f7;box-shadow:0 8px 18px #1f4fb547}.primary-button:hover{transform:translateY(-1px);filter:saturate(1.06)}.game-card-quantity .primary-button{background:#0f6f72;box-shadow:0 8px 18px #0f6f7247}.game-card-letter .primary-button{background:#be1e4a;box-shadow:0 8px 18px #be1e4a47}.home-footer{padding-top:2px;margin-top:auto}.home-disclaimer{margin:0;font-size:clamp(.76rem,1.8vw,.86rem);line-height:1.4;color:#5f6c86}@media (max-width: 720px){.home-header{min-height:52px}.game-grid{grid-template-columns:1fr}.game-title{text-align:center}.game-card-head{justify-content:center;gap:14px}.game-card-body{justify-content:center}.home-illustration{width:clamp(120px,36vw,160px);height:clamp(120px,36vw,160px)}.home-disclaimer{font-size:.74rem}}.dice-hint{--dice-size: 1.18em;--dice-border: rgba(18, 38, 58, .24);--dice-pip: currentColor;display:inline-flex;align-items:center;gap:.16em}.dice-hint-face{position:relative;width:var(--dice-size);height:var(--dice-size);border-radius:.22em;background:#fff;border:.06em solid var(--dice-border);box-shadow:0 .08em .14em #12263a2e}.dice-hint-pip{position:absolute;width:.2em;height:.2em;border-radius:50%;background:var(--dice-pip);transform:translate(-50%,-50%)}.dice-hint-pip.is-tl{top:28%;left:28%}.dice-hint-pip.is-tc{top:28%;left:50%}.dice-hint-pip.is-tr{top:28%;left:72%}.dice-hint-pip.is-ml{top:50%;left:28%}.dice-hint-pip.is-mc{top:50%;left:50%}.dice-hint-pip.is-mr{top:50%;left:72%}.dice-hint-pip.is-bl{top:72%;left:28%}.dice-hint-pip.is-bc{top:72%;left:50%}.dice-hint-pip.is-br{top:72%;left:72%}.counting-page{display:flex;flex-direction:column;gap:10px;height:100vh;height:100dvh;min-height:100vh;min-height:100dvh;overflow:visible}.question-content{display:flex;flex-direction:column;gap:10px;flex:1;min-height:0}.counting-header{position:relative;display:flex;align-items:center;justify-content:center;gap:16px}.counting-header h1{margin:0;text-align:center;font-size:clamp(1.35rem,4vw,1.8rem)}.counting-stage{position:relative;display:flex;flex:1;min-height:0;border-radius:20px;padding:18px;background:#fff;box-shadow:0 8px 28px #12263a14;overflow:visible}.item-scene{position:relative;flex:1;min-height:0;border-radius:16px;overflow:hidden}.item-scene.is-celebrating{overflow:visible}.item-sprite{position:absolute;display:flex;align-items:center;justify-content:center;transform:translate(-50%,-50%);transition:transform .25s ease;will-change:transform}.item-sprite.is-hinting{animation:hint-count-pop .72s cubic-bezier(.22,.82,.28,1);z-index:10}.item-fire{background:#ffe5dc;color:#8b2c0f}.item-police{background:#dce8ff;color:#1e3f72}.item-ambulance{background:#ffeef0;color:#7f1d35}.item-boat{background:#d9f6ff;color:#0d4561}.item-plane{background:#ece9ff;color:#3f3376}.answers{border-radius:20px;padding:14px;background:#fffffff5;box-shadow:0 8px 28px #12263a14;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.answer-grid{display:flex;flex-wrap:nowrap;gap:12px}.counting-page .answer-grid .answer-button{--tilt: 0deg;position:relative;overflow:visible;min-height:104px;font-size:clamp(2.5rem,6.2vw,3.9rem);font-family:Avenir Next Rounded,Arial Rounded MT Bold,Avenir Next,Inter,sans-serif;font-weight:900;letter-spacing:.015em;line-height:1;border:2px solid transparent;border-radius:18px;color:var(--answer-color-dark);background:var(--answer-color-light);box-shadow:0 7px 18px #12263a21,inset 0 -2px #ffffff73;transform:translateZ(0) rotate(var(--tilt));-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .12s ease,box-shadow .18s ease,filter .18s ease}.counting-page .answer-grid .answer-button .answer-value{display:inline-block;line-height:1;transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;text-shadow:0 2px 0 rgba(255,255,255,.6);filter:drop-shadow(0 5px 7px rgba(18,38,58,.18))}.counting-page .answer-grid .answer-button .answer-content{display:inline-flex;align-items:center;justify-content:center;gap:.2em}.counting-page .answer-grid .answer-button .answer-dice-hint{--dice-size: .62em}.counting-page .answer-grid .answer-button:nth-child(odd){--tilt: -1.2deg}.counting-page .answer-grid .answer-button:nth-child(2n){--tilt: 1.2deg}.answer-grid .answer-button:focus-visible{outline:3px solid rgba(47,114,247,.35);outline-offset:2px}.counting-page .answer-grid .answer-button:enabled:hover{transform:translate3d(0,-2px,0) scale(1.04) rotate(var(--tilt));filter:saturate(1.08);box-shadow:0 12px 20px #12263a2e,inset 0 -2px #ffffff73}.counting-page .answer-grid .answer-button:enabled:active{transform:translateZ(0) scale(.98) rotate(var(--tilt))}@supports (-webkit-touch-callout: none){.counting-page .answer-grid .answer-button .answer-value{text-shadow:0 1px 0 rgba(255,255,255,.55),0 3px 0 rgba(255,255,255,.18);filter:drop-shadow(0 4px 5px rgba(18,38,58,.14))}}.answer-grid .answer-button.is-pointer-target{box-shadow:0 0 0 4px #2f72f73d,0 10px 20px #1f4fb53d}.answer-pointer{position:absolute;top:50%;left:8px;font-size:clamp(2.4rem,4.2vw,3.2rem);line-height:1;transform:translate(-115%,-50%) rotate(-4deg);pointer-events:none;filter:drop-shadow(0 4px 6px rgba(18,38,58,.28));animation:answer-pointer-arrive .48s cubic-bezier(.18,.88,.32,1) both,answer-pointer-bob .72s ease-in-out .48s infinite alternate}.answer-grid .answer-button:first-child .answer-pointer{left:6px;transform:translate(-35%,-50%) rotate(-4deg)}.answer-grid .answer-button:nth-child(8n+6){--answer-color-light: #e5efff;--answer-color-dark: #1f4fb5}.answer-grid .answer-button:nth-child(8n+7){--answer-color-light: #ebe8ff;--answer-color-dark: #4b3da5}.answer-grid .answer-button:nth-child(8n+8){--answer-color-light: #f9e4ff;--answer-color-dark: #8a2ea7}.feedback{min-height:0;margin:0;font-size:1.2rem;font-weight:700}.feedback.correct{color:#147a30}.feedback.wrong{color:#a34a00}.item-sprite.is-celebrating{animation-fill-mode:forwards}@keyframes reward-voyage-arc{0%{transform:translate(-50%,-50%) rotate(0) scale(1);opacity:1}34%{transform:translate(calc(-50% + var(--travel-x-mid, 0vw)),calc(-50% + var(--travel-y-mid, -24vh))) rotate(var(--rotation-mid, -18deg)) scale(var(--scale-mid, 1.05));opacity:1}70%{transform:translate(calc(-50% + var(--travel-x-late, 24vw)),calc(-50% + var(--travel-y-late, -34vh))) rotate(var(--rotation-late, 40deg)) scale(var(--scale-late, .9));opacity:.9}to{transform:translate(calc(-50% + var(--travel-x-end, 0vw)),calc(-50% + var(--travel-y-end, -48vh))) rotate(var(--rotation-end, 62deg)) scale(var(--scale-end, .42));opacity:0}}@keyframes hint-count-pop{0%{transform:translate(-50%,-50%) scale(1)}38%{transform:translate(-50%,-50%) scale(1.24)}70%{transform:translate(-50%,-50%) scale(.94)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes reward-voyage-zigzag{0%{transform:translate(-50%,-50%) rotate(0) scale(1);opacity:1}30%{transform:translate(calc(-50% + var(--travel-x-mid, 16vw)),calc(-50% + var(--travel-y-mid, -22vh))) rotate(var(--rotation-mid, -18deg)) scale(var(--scale-mid, 1.08));opacity:1}60%{transform:translate(calc(-50% - var(--travel-x-mid, 16vw)),calc(-50% + calc(var(--travel-y-mid, -22vh) * 1.15))) rotate(calc(var(--rotation-mid, -18deg) * -1)) scale(var(--scale-late, .86));opacity:.95}84%{transform:translate(calc(-50% + var(--travel-x-late, 26vw)),calc(-50% + var(--travel-y-late, -34vh))) rotate(var(--rotation-late, 46deg)) scale(var(--scale-late, .78));opacity:.72}to{transform:translate(calc(-50% + var(--travel-x-end, 0vw)),calc(-50% + var(--travel-y-end, -48vh))) rotate(var(--rotation-end, 62deg)) scale(var(--scale-end, .42));opacity:0}}@keyframes reward-voyage-spiral{0%{transform:translate(-50%,-50%) rotate(0) scale(1);opacity:1}24%{transform:translate(calc(-50% + calc(var(--travel-x-mid, 16vw) * .45)),calc(-50% + calc(var(--travel-y-mid, -22vh) * .4))) rotate(calc(var(--rotation-mid, -18deg) * .7)) scale(var(--scale-mid, 1.1));opacity:1}54%{transform:translate(calc(-50% - calc(var(--travel-x-mid, 16vw) * .55)),calc(-50% + calc(var(--travel-y-mid, -22vh) * .85))) rotate(calc(var(--rotation-late, 40deg) * -.8)) scale(var(--scale-late, .93));opacity:.95}80%{transform:translate(calc(-50% + var(--travel-x-late, 24vw)),calc(-50% + var(--travel-y-late, -34vh))) rotate(var(--rotation-late, 40deg)) scale(var(--scale-late, .83));opacity:.74}to{transform:translate(calc(-50% + var(--travel-x-end, 0vw)),calc(-50% + var(--travel-y-end, -48vh))) rotate(var(--rotation-end, 62deg)) scale(var(--scale-end, .42));opacity:0}}@keyframes answer-pointer-arrive{0%{opacity:0;transform:translate(-220%,-50%) rotate(-16deg) scale(.74)}to{opacity:1;transform:translate(-115%,-50%) rotate(-4deg) scale(1)}}@keyframes answer-pointer-bob{0%{transform:translate(-115%,-50%) rotate(-4deg)}to{transform:translate(-103%,-50%) rotate(0)}}@media (min-width: 1100px){.counting-page .answer-grid .answer-button{min-height:124px;font-size:clamp(3rem,4.6vw,5rem)}}@media (max-width: 760px){.answer-grid{gap:10px}.counting-page .answer-button{min-height:72px}.counting-page .answer-grid .answer-button{min-height:78px;font-size:clamp(1.8rem,6vw,2.5rem)}}.reverse-counting-page{display:flex;flex-direction:column;gap:12px;height:100vh;height:100dvh;min-height:100vh;min-height:100dvh;overflow:visible}.reverse-header{position:relative;display:flex;align-items:center;justify-content:center}.reverse-header h1{margin:0;text-align:center;font-size:clamp(1.35rem,4vw,1.8rem)}.header-actions{position:absolute;right:0;top:50%;transform:translateY(-50%)}.target-section{--target-color-light: #e5efff;--target-color-dark: #1f4fb5;flex:1;min-height:0;display:flex;flex-direction:column;justify-content:center;border-radius:20px;padding:18px;background:var(--target-color-light);box-shadow:0 8px 28px #12263a14;text-align:center}.target-label{margin:0;color:color-mix(in srgb,var(--target-color-dark) 72%,#2f3e52);font-size:1rem;font-weight:700}.target-number{flex:1;display:flex;align-items:center;justify-content:center;margin:4px 0 0;font-size:clamp(6rem,28vh,16rem);line-height:1;font-family:Avenir Next Rounded,Arial Rounded MT Bold,Avenir Next,Inter,sans-serif;letter-spacing:.02em;font-weight:900;color:var(--target-color-dark);text-shadow:0 5px 12px rgba(255,255,255,.45);transform:translateZ(0)}.target-number-content{display:inline-flex;align-items:center;gap:.16em}.target-dice-hint{--dice-size: .26em}.target-number.is-celebrating{animation-fill-mode:forwards;will-change:transform,opacity}.target-replay-button{align-self:center;min-width:74px;min-height:74px;border:0;border-radius:50%;font-size:1.9rem;font-weight:900;color:#fff;background:#2f72f7;box-shadow:0 8px 18px #1f4fb547;transition:transform .12s ease,box-shadow .18s ease,filter .18s ease}.target-replay-button:enabled:hover{transform:translateY(-1px);filter:saturate(1.08);box-shadow:0 10px 20px #1f4fb559}.target-replay-button:enabled:active{transform:translateY(0)}.choice-grid{position:relative;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;flex:0 0 auto;overflow:visible;border-radius:18px}.choice-grid.is-wrong{animation:wrong-shake .28s ease-in-out}.choice-card{position:relative;overflow:visible;border:0;border-radius:18px;padding:12px;background:#fff;box-shadow:0 8px 24px #12263a1f;transition:transform .12s ease,box-shadow .2s ease,filter .2s ease}.choice-card:enabled:hover{transform:translateY(-1px);box-shadow:0 12px 22px #12263a26;filter:saturate(1.05)}.choice-card:disabled{opacity:.7}.choice-card.is-correct{opacity:1;border:2px solid rgba(18,122,48,.4);box-shadow:0 0 0 4px #22c55e40,0 10px 20px #147a3038;animation:correct-pulse .42s ease-out}.choice-card.is-pointer-target{box-shadow:0 0 0 4px #2f72f73d,0 12px 22px #1f4fb53d}.answer-pointer{position:absolute;top:50%;left:8px;z-index:3;font-size:clamp(2.4rem,4vw,3.2rem);line-height:1;transform:translate(-115%,-50%) rotate(-4deg);pointer-events:none;filter:drop-shadow(0 4px 6px rgba(18,38,58,.28));animation:reverse-answer-pointer-arrive .48s cubic-bezier(.18,.88,.32,1) both,reverse-answer-pointer-bob .72s ease-in-out .48s infinite alternate}.choice-card:first-child .answer-pointer{left:6px;transform:translate(-35%,-50%) rotate(-4deg)}.choice-scene{position:relative;width:100%;height:clamp(130px,26vh,230px);border-radius:14px;overflow:hidden}.choice-card:nth-child(3n+1) .choice-scene{background:#ffe5dc}.choice-card:nth-child(3n+2) .choice-scene{background:#dce8ff}.choice-card:nth-child(3n+3) .choice-scene{background:#d9f6ff}.item-sprite{position:absolute;display:flex;align-items:center;justify-content:center;transform:translate(-50%,-50%)}.item-image{width:100%;height:100%;object-fit:contain}.answer-button{min-height:56px;min-width:72px;border:0;border-radius:14px;font-size:1.2rem;font-weight:800;color:#12263a;background:#dce8ff}.micro-confetti{position:absolute;top:0;right:0;bottom:0;left:0;z-index:12;pointer-events:none}@keyframes target-voyage-arc{0%{transform:translateZ(0) rotate(0) scale(1);opacity:1}36%{transform:translate3d(var(--target-travel-x-mid, 0vw),var(--target-travel-y-mid, -8vh),0) rotate(var(--target-rotation-mid, -10deg)) scale(var(--target-scale-mid, 1.02));opacity:1}72%{transform:translate3d(var(--target-travel-x-late, 12vw),var(--target-travel-y-late, -14vh),0) rotate(var(--target-rotation-late, 24deg)) scale(var(--target-scale-late, .9));opacity:.95}to{transform:translate3d(var(--target-travel-x-end, 16vw),var(--target-travel-y-end, -20vh),0) rotate(var(--target-rotation-end, 36deg)) scale(var(--target-scale-end, .8));opacity:.88}}@keyframes target-voyage-zigzag{0%{transform:translateZ(0) rotate(0) scale(1);opacity:1}32%{transform:translate3d(var(--target-travel-x-mid, 8vw),var(--target-travel-y-mid, -8vh),0) rotate(var(--target-rotation-mid, -10deg)) scale(var(--target-scale-mid, 1.04));opacity:1}64%{transform:translate3d(calc(var(--target-travel-x-mid, 8vw) * -1),calc(var(--target-travel-y-mid, -8vh) * 1.1),0) rotate(calc(var(--target-rotation-mid, -10deg) * -1)) scale(var(--target-scale-late, .94));opacity:.96}to{transform:translate3d(var(--target-travel-x-end, 16vw),var(--target-travel-y-end, -20vh),0) rotate(var(--target-rotation-end, 36deg)) scale(var(--target-scale-end, .8));opacity:.9}}@keyframes target-voyage-spiral{0%{transform:translateZ(0) rotate(0) scale(1);opacity:1}26%{transform:translate3d(calc(var(--target-travel-x-mid, 8vw) * .55),calc(var(--target-travel-y-mid, -8vh) * .45),0) rotate(calc(var(--target-rotation-mid, -10deg) * .8)) scale(var(--target-scale-mid, 1.03));opacity:1}58%{transform:translate3d(calc(var(--target-travel-x-mid, 8vw) * -.6),calc(var(--target-travel-y-mid, -8vh) * .95),0) rotate(calc(var(--target-rotation-late, 24deg) * -.75)) scale(var(--target-scale-late, .92));opacity:.97}to{transform:translate3d(var(--target-travel-x-end, 16vw),var(--target-travel-y-end, -20vh),0) rotate(var(--target-rotation-end, 36deg)) scale(var(--target-scale-end, .8));opacity:.9}}@keyframes reverse-answer-pointer-arrive{0%{opacity:0;transform:translate(-220%,-50%) rotate(-16deg) scale(.74)}to{opacity:1;transform:translate(-115%,-50%) rotate(-4deg) scale(1)}}@keyframes reverse-answer-pointer-bob{0%{transform:translate(-115%,-50%) rotate(-4deg)}to{transform:translate(-103%,-50%) rotate(0)}}@keyframes correct-pulse{0%{transform:scale(1)}45%{transform:scale(1.04)}to{transform:scale(1)}}@media (max-width: 860px){.choice-grid{gap:10px}.choice-scene{height:clamp(115px,22vh,190px)}.target-number{font-size:clamp(5rem,21vh,11rem)}}.letter-listening-page{display:flex;flex-direction:column;gap:12px;height:100vh;height:100dvh;min-height:100vh;min-height:100dvh;overflow:hidden}.letter-header{position:relative;display:flex;align-items:center;justify-content:center;gap:16px}.letter-header h1{margin:0;text-align:center;font-size:clamp(1.35rem,4vw,1.8rem)}.header-actions{position:absolute;right:0;top:50%;transform:translateY(-50%);display:flex;gap:10px;align-items:center}.prompt-card{position:relative;display:flex;flex:1;min-height:0;flex-direction:column;align-items:center;justify-content:flex-start;gap:10px;padding:16px;border-radius:20px;background:#fff;box-shadow:0 8px 28px #12263a14;overflow:hidden}.prompt-card:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:0;background:var(--prompt-pastel-middle, #fff4d9)}.prompt-card>*{position:relative;z-index:1}.prompt-card.is-flash{animation:prompt-flash .36s ease-out}.prompt-label{margin:0;font-size:clamp(1.2rem,3vw,1.6rem);font-weight:800;text-align:center}.play-letter-button{display:inline-flex;align-items:center;justify-content:center;margin-top:auto;margin-bottom:auto;min-width:86px;min-height:86px;border:0;border-radius:50%;font-size:2.2rem;font-weight:900;color:#fff;background:#2f72f7;box-shadow:0 8px 18px #1f4fb547;transition:transform .12s ease,box-shadow .18s ease,filter .18s ease}.play-letter-button:hover{transform:translateY(-1px);filter:saturate(1.08);box-shadow:0 10px 20px #1f4fb559}.play-letter-button:active{transform:translateY(0)}.letter-reward{display:flex;flex-direction:column;align-items:center;gap:10px;width:min(100%,390px);margin-top:auto;margin-bottom:auto}.letter-reward-stage{width:min(88vw,360px);max-width:100%;aspect-ratio:1 / 1;border-radius:22px;background:#ffffff8a;box-shadow:inset 0 0 0 2px #ffffffb8,0 10px 26px #12263a1f;overflow:hidden;touch-action:none}.letter-reward-svg{width:100%;height:100%;display:block}.reward-brush-stroke{fill:none;stroke:coral;stroke-width:19;stroke-linecap:round;stroke-linejoin:round}.letter-reward-progress{width:min(88vw,360px);max-width:100%;height:12px;border-radius:999px;background:#ffffffb3;overflow:hidden;box-shadow:inset 0 0 0 1px #12263a1f}.letter-reward-progress span{display:block;height:100%;width:0;border-radius:inherit;background:linear-gradient(90deg,#f97316,#facc15,#7ed957);transition:width .08s linear}.micro-confetti{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.confetti-piece{position:absolute;border-radius:2px;animation:confetti-burst 5s ease-out forwards}.answers{border-radius:20px;padding:12px;background:#fffffff5;box-shadow:0 8px 28px #12263a14;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.answer-grid{display:flex;flex-wrap:nowrap;gap:10px}.answer-button{flex:1 1 0;min-width:0;min-height:62px;border:0;border-radius:14px;font-size:1.25rem;font-weight:800;color:#12263a;background:#dce8ff}.answer-button:disabled{opacity:.7}.letter-listening-page .answer-grid .answer-button{--tilt: 0deg;position:relative;overflow:visible;min-height:104px;font-size:clamp(2.5rem,6.2vw,3.9rem);font-family:Avenir Next Rounded,Arial Rounded MT Bold,Avenir Next,Inter,sans-serif;font-weight:900;letter-spacing:.015em;line-height:1;border:2px solid transparent;border-radius:18px;color:var(--answer-color-dark);background:var(--answer-color-light);box-shadow:0 7px 18px #12263a21,inset 0 -2px #ffffff73;transform:translateZ(0) rotate(var(--tilt));-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .12s ease,box-shadow .18s ease,filter .18s ease}.letter-listening-page .answer-grid .answer-button .answer-letter{display:inline-block;line-height:1;transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;text-shadow:0 2px 0 rgba(255,255,255,.6);filter:drop-shadow(0 5px 7px rgba(18,38,58,.18))}.letter-listening-page .answer-grid .answer-button:nth-child(odd){--tilt: -1.2deg}.letter-listening-page .answer-grid .answer-button:nth-child(2n){--tilt: 1.2deg}.answer-button:focus-visible{outline:3px solid rgba(47,114,247,.35);outline-offset:2px}.letter-listening-page .answer-grid .answer-button:enabled:hover{transform:translate3d(0,-2px,0) scale(1.04) rotate(var(--tilt));filter:saturate(1.08);box-shadow:0 12px 20px #12263a2e,inset 0 -2px #ffffff73}.letter-listening-page .answer-grid .answer-button:enabled:active{transform:translateZ(0) scale(.98) rotate(var(--tilt))}@supports (-webkit-touch-callout: none){.letter-listening-page .answer-grid .answer-button .answer-letter{text-shadow:0 1px 0 rgba(255,255,255,.55),0 3px 0 rgba(255,255,255,.18);filter:drop-shadow(0 4px 5px rgba(18,38,58,.14))}}.answers.is-wrong .answer-grid{animation:wrong-shake .28s ease-in-out}.answers.is-correct .answer-grid .answer-button{filter:saturate(.8) brightness(.97);opacity:.7}.answer-grid .answer-button.is-correct-answer{opacity:1;filter:saturate(1.12) brightness(1.03);border-color:#127a3059;box-shadow:0 0 0 4px #22c55e40,0 10px 20px #147a303d;animation:correct-pulse .42s ease-out}.answer-grid .answer-button.is-pointer-target{box-shadow:0 0 0 4px #2f72f73d,0 10px 18px #1f4fb53d}.answer-pointer{position:absolute;top:50%;left:8px;font-size:clamp(2.4rem,4vw,3.2rem);line-height:1;transform:translate(-115%,-50%) rotate(-4deg);pointer-events:none;filter:drop-shadow(0 4px 6px rgba(18,38,58,.28));animation:letter-answer-pointer-arrive .48s cubic-bezier(.18,.88,.32,1) both,letter-answer-pointer-bob .72s ease-in-out .48s infinite alternate}.answer-grid .answer-button:nth-child(8n+1){--answer-color-light: #ffe8ef;--answer-color-dark: #be1e4a}.answer-grid .answer-button:nth-child(8n+2){--answer-color-light: #fff0df;--answer-color-dark: #c35a00}.answer-grid .answer-button:nth-child(8n+3){--answer-color-light: #fff8d6;--answer-color-dark: #947200}.answer-grid .answer-button:nth-child(8n+4){--answer-color-light: #e8f8db;--answer-color-dark: #2f7d20}.answer-grid .answer-button:nth-child(8n+5){--answer-color-light: #dff7f6;--answer-color-dark: #0f6f72}.success-alert{min-height:92px;min-width:min(90vw,420px);display:flex;align-items:center;justify-content:center;gap:10px;padding:18px 28px;border-radius:22px;font-size:clamp(1.5rem,5vw,2.3rem);font-weight:900;color:#fff;background:linear-gradient(120deg,#1ea84edb,#22c55ed1);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);box-shadow:0 18px 40px #12263a57;animation:alert-pop .35s ease-out}.surprise-badge{display:inline-flex;align-items:center;justify-content:center;padding:4px 12px;border-radius:999px;font-size:clamp(1.1rem,3vw,1.35rem);background:#ffffff38;box-shadow:inset 0 0 0 1px #ffffff47}.success-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:12;display:flex;align-items:center;justify-content:center;background:#07172c1f;pointer-events:none}.emoji-burst{display:inline-block;animation:sparkle .5s ease-in-out infinite alternate}@keyframes alert-pop{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}@keyframes prompt-flash{0%{box-shadow:0 8px 28px #12263a14,0 0 #2ecc7161}45%{box-shadow:0 10px 30px #12263a24,0 0 0 14px #2ecc712e}to{box-shadow:0 8px 28px #12263a14,0 0 #2ecc7100}}@keyframes confetti-burst{0%{transform:translate(0) rotate(0) scale(1);opacity:1}to{transform:translate(var(--confetti-dx),var(--confetti-dy)) rotate(var(--confetti-rotation)) scale(.7);opacity:0}}@keyframes letter-answer-pointer-arrive{0%{opacity:0;transform:translate(-220%,-50%) rotate(-16deg) scale(.74)}to{opacity:1;transform:translate(-115%,-50%) rotate(-4deg) scale(1)}}@keyframes letter-answer-pointer-bob{0%{transform:translate(-115%,-50%) rotate(-4deg)}to{transform:translate(-103%,-50%) rotate(0)}}@keyframes sparkle{0%{transform:translateY(0)}to{transform:translateY(-3px)}}@keyframes wrong-shake{0%,to{transform:translate(0)}25%{transform:translate(-4px)}50%{transform:translate(4px)}75%{transform:translate(-2px)}}@keyframes correct-pulse{0%{transform:scale(1)}45%{transform:scale(1.06)}to{transform:scale(1)}}@media (max-width: 760px){.play-letter-button{min-width:80px;min-height:80px;font-size:2rem}.letter-reward-stage{width:min(92vw,330px)}.letter-reward-progress{width:min(92vw,330px);height:10px}.answer-grid{gap:8px}.letter-listening-page .answer-grid .answer-button{min-height:78px;font-size:clamp(1.8rem,6vw,2.5rem)}}@media (min-width: 1100px){.letter-listening-page .answer-grid .answer-button{min-height:124px;font-size:clamp(3rem,4.6vw,5rem)}}.settings-page{display:grid;gap:16px;min-height:calc(100vh - 48px);min-height:calc(100dvh - 48px);overflow-x:hidden}.settings-header{display:flex;align-items:center;justify-content:space-between;gap:16px}.settings-header h1{margin:0;font-size:clamp(1.6rem,4vw,2.1rem)}.settings-card{display:grid;gap:12px;border-radius:20px;padding:20px;border:1px solid rgba(31,79,181,.1);background:#ffffffdb;box-shadow:0 8px 28px #12263a14;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.settings-card h2{margin:0;font-size:1.1rem}.settings-page .language-switcher{display:flex;gap:8px;background:#e7efff;border-radius:999px;padding:8px;width:fit-content}.settings-page .language-chip{min-height:48px;min-width:68px;padding:10px 16px;border:0;border-radius:999px;font-size:1rem;font-weight:700;color:#244372;background:transparent}.settings-page .language-chip.is-active{background:#fff;box-shadow:0 2px 10px #12263a29}.settings-select{width:100%;min-height:46px;border:1px solid #c5d4eb;border-radius:12px;padding:10px 12px;font-size:1rem;color:#244372;background:#f5f9ff}.field-label{font-weight:700}.toggle-row{display:flex;align-items:center;justify-content:space-between;gap:12px;font-weight:700}.toggle-row input{position:relative;width:52px;height:32px;border:0;border-radius:999px;background:#cfd8ea;-webkit-appearance:none;-moz-appearance:none;appearance:none}.toggle-row input:before{content:"";position:absolute;left:4px;top:4px;width:24px;height:24px;border-radius:50%;background:#fff;box-shadow:0 2px 6px #12263a33;transition:transform .16s ease}.toggle-row input:checked{background:#2f72f7}.toggle-row input:checked:before{transform:translate(20px)}.range-row{display:flex;align-items:center;gap:12px}.range-row.is-disabled{opacity:.5}.range-row input{flex:1;accent-color:#2f72f7}.range-row input:disabled{cursor:not-allowed}.range-row output{min-width:40px;border-radius:999px;padding:6px 10px;text-align:center;font-weight:800;background:#e7efff}.settings-hint{margin:0;font-size:.9rem;color:#5a6b7d}.letter-selection-actions{display:flex;gap:8px}.letter-selection-grid{display:grid;grid-template-columns:repeat(13,1fr);gap:8px}.letter-chip{min-height:44px;min-width:0;padding:8px;border:2px solid #c5d4eb;border-radius:12px;font-size:1.1rem;font-weight:800;color:#244372;background:#f5f9ff;transition:background .15s ease,border-color .15s ease}.letter-chip:hover{background:#e7efff;border-color:#8fa8e0}.letter-chip.is-active{background:#2f72f7;border-color:#2f72f7;color:#fff}@media (max-width: 520px){.letter-selection-grid{grid-template-columns:repeat(7,1fr)}}:root{--text-primary: #12263a;--text-secondary: #4f6075;--surface-strong: #ffffff;--surface-soft: rgba(255, 255, 255, .9);--border-soft: rgba(31, 79, 181, .12);--accent: #2f72f7;--accent-pressed: #245dd0;--shadow-soft: 0 10px 28px rgba(18, 38, 58, .1);font-family:Avenir Next,Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;line-height:1.4;font-weight:500;color:var(--text-primary);background:#f5f8ff;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*{box-sizing:border-box}html{overscroll-behavior:none}body{margin:0;min-width:320px;min-height:100vh;min-height:100dvh;overscroll-behavior:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:manipulation;background:radial-gradient(circle at 12% 8%,#f0f7ff 0%,transparent 34%),radial-gradient(circle at 88% 12%,#e8eeff 0%,transparent 30%),linear-gradient(180deg,#f8fbff,#eef3ff 58%,#e9f0ff);background-attachment:fixed}#root{min-height:100vh;min-height:100dvh}button,a,select,input{font:inherit}button,.primary-button,.secondary-link,.settings-link,.language-chip,.letter-chip,.answer-button{transition:transform .13s ease,box-shadow .16s ease,filter .16s ease,background-color .18s ease}button:active,.primary-button:active,.secondary-link:active,.settings-link:active,.language-chip:active,.letter-chip:active,.answer-button:active{transform:scale(.97)}:focus-visible{outline:3px solid rgba(47,114,247,.3);outline-offset:2px}.settings-page{-webkit-user-select:auto;user-select:auto}.app-shell{max-width:980px;margin:0 auto;padding:max(24px,env(safe-area-inset-top)) max(16px,env(safe-area-inset-right)) max(24px,env(safe-area-inset-bottom)) max(16px,env(safe-area-inset-left))}.secondary-link{display:inline-flex;align-items:center;justify-content:center;min-height:48px;padding:10px 16px;border-radius:12px;border:1px solid var(--border-soft);font-weight:700;color:var(--accent);text-decoration:none;background:var(--surface-soft);box-shadow:0 4px 14px #1f4fb524;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.secondary-link:active{color:var(--accent-pressed)}
